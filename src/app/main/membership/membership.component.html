<!-- Membership Component -->
<div class="home container-fluid p-0">
  <!-- Background Image Banner -->
  <section class="page-title d-flex justify-content-center align-items-center">
    <div class="bg-layer"></div>
    <div class="container">
      <div class="row">
        <div class="col-12">
          <h1>Membership</h1>
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb justify-content-center bg-transparent m-0">
              <li class="breadcrumb-item"><a href="/">Home</a></li>
              <li class="breadcrumb-item active" aria-current="page">Membership</li>
            </ol>
          </nav>
        </div>
      </div>
    </div>
  </section>

  <!-- Main Content -->
  <div class="container py-5">
  <!-- Pricing Section -->
  <section class="pricing-section">
    <div class="auto-container">
      <div class="sec-title">
        <span class="sub-title">Membership Plans</span>
        <h2>Choose Your Perfect Plan</h2>
      </div>

      <!-- Loading State -->
      <div *ngIf="loading" class="loading-container">
        <div class="loading-spinner"></div>
        <p>Loading membership plans...</p>
      </div>

      <!-- Error State -->
      <div *ngIf="error && !loading" class="error-container">
        <div class="error-message">
          <fa-icon [icon]="infoIcon" class="error-icon-svg"></fa-icon>
          <p>{{ error }}</p>
          <button class="theme-btn btn-one" (click)="loadPlans()">Try Again</button>
        </div>
      </div>

      <!-- Plans Content -->
      <div *ngIf="!loading && !error" class="plans-container">
        <div class="plans-grid" [class.single-plan]="membershipPlans.length === 1">
          <div class="pricing-block-one" *ngFor="let plan of membershipPlans">
            <div class="pricing-table">
              <div class="table-header">
                <span class="title">{{ plan.title }}</span>
                <h2>${{ plan.price }}</h2>
                <span class="text">{{ plan.period }}</span>
              </div>
              <div class="table-content">
                <p class="plan-description">{{ plan.description }}</p>
                <ul class="feature-list">
                  <li *ngFor="let feature of plan.features"
                      [class.cancel]="!feature.included">
                    <fa-icon [icon]="feature.included ? checkCircleIcon : timesIcon" 
                             [class]="feature.included ? 'feature-icon-check' : 'feature-icon-cross'"></fa-icon>
                    {{ feature.name }}
                  </li>
                  <li *ngIf="plan.features.length === 0" class="no-features">
                    <fa-icon [icon]="infoIcon" class="feature-icon-info"></fa-icon>
                    No features specified for this plan
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        
        <!-- No Plans Available -->
        <div *ngIf="membershipPlans.length === 0" class="no-plans-container">
          <div class="no-plans-message">
            <fa-icon [icon]="infoIcon" class="no-plans-icon-svg"></fa-icon>
            <h3>No Plans Available</h3>
            <p>No membership plans are currently available.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Current Membership Status -->
  <section class="membership-status-section">
    <div class="auto-container">
      <div class="sec-title">
        <span class="sub-title">Account Status</span>
        <h2>Your Current Memberships</h2>
      </div>

      <div class="membership-details">
        <div class="table-responsive">
          <table class="membership-table">
            <thead>
              <tr>
                <th>Member ID</th>
                <th>Membership Type</th>
                <th>Start Date</th>
                <th>Expiration Date</th>
                <th>Status</th>
                <th>Days Left</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let membership of currentMemberships">
                <td>
                  <strong>{{ membership.memberId || 'N/A' }}</strong>
                </td>
                <td>{{ membership.type }}</td>
                <td>{{ membership.startDate | date:'mediumDate' }}</td>
                <td>{{ membership.expirationDate | date:'mediumDate' }}</td>
                <td>
                  <span class="status-badge"
                        [class.active]="membership.isActive"
                        [class.expired]="!membership.isActive"
                        [class.warning]="membership.daysUntilExpiry <= 30 && membership.daysUntilExpiry > 0">
                    {{ membership.status }}
                  </span>
                </td>
                <td>
                  <span class="days-left"
                        [class.warning]="membership.daysUntilExpiry <= 30 && membership.daysUntilExpiry > 0"
                        [class.expired]="membership.daysUntilExpiry <= 0">
                    {{ membership.daysUntilExpiry > 0 ? membership.daysUntilExpiry + ' days' : 'Expired' }}
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        
        <!-- No Memberships Message -->
        <div *ngIf="currentMemberships.length === 0" class="no-memberships-container">
          <div class="no-memberships-message">
            <fa-icon [icon]="infoIcon" class="no-memberships-icon-svg"></fa-icon>
            <h3>No Memberships Found</h3>
            <p>You don't have any active memberships. Please contact the club administration to set up your membership.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Benefits Section -->
  <section class="benefits-section">
    <div class="auto-container">
      <div class="sec-title">
        <span class="sub-title">Member Benefits</span>
        <h2>Why Choose Our Membership</h2>
      </div>

      <div class="benefits-grid">
        <div class="benefit-card">
          <div class="icon access-icon">
            <fa-icon [icon]="golfBallIcon" class="benefit-icon-svg"></fa-icon>
          </div>
          <h3>Exclusive Course Access</h3>
          <p>Enjoy priority tee times and access to member-only course sections. Book up to 14 days in advance and get exclusive access to championship courses.</p>
        </div>

        <div class="benefit-card">
          <div class="icon events-icon">
            <fa-icon [icon]="trophyIcon" class="benefit-icon-svg"></fa-icon>
          </div>
          <h3>Members-Only Events</h3>
          <p>Join exclusive tournaments, social gatherings, and networking events. Connect with fellow golf enthusiasts and build lasting relationships.</p>
        </div>

        <div class="benefit-card">
          <div class="icon training-icon">
            <fa-icon [icon]="boltIcon" class="benefit-icon-svg"></fa-icon>
          </div>
          <h3>Professional Training</h3>
          <p>Enhance your game with personalized coaching sessions from PGA professionals. Access video analysis and custom training programs.</p>
        </div>

        <div class="benefit-card">
          <div class="icon discount-icon">
            <fa-icon [icon]="dollarSignIcon" class="benefit-icon-svg"></fa-icon>
          </div>
          <h3>Member Discounts</h3>
          <p>Save on pro shop purchases, equipment rentals, and dining. Enjoy special rates on golf cart rentals and practice facilities.</p>
        </div>
      </div>
    </div>
  </section>
</div>
